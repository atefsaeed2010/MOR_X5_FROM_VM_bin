<% if payment.paymenttype == 'manual' or payment.paymenttype == 'Card' %>
    <div id="payment_des_<%= payment.id %>">
      <div id="payment_description_link_<%= payment.id %>">
        <%= link_to_function(b_comment_edit(to_utf(payment.description)), "Element.toggle('payment_description_#{payment.id}');Element.toggle('payment_description_link_#{payment.id}');") %>
      </div>
      <div id="payment_description_<%= payment.id %>" style='display:none;'>
      <span style="float: left;">
        <%= text_area_tag 'payment_desciption', to_utf(payment.description), :cols => 60, :rows => 6, :id => "payment_description_tag_#{payment.id}" %>
      </span>
      <span style="float: left;">
        <%= submit_tag _('ok'), :name => "ok_#{payment.id}", :onclick => "new Ajax.Updater('payment_des_#{payment.id}', '#{Web_Dir}/payments/change_description/#{payment.id.to_s}', {asynchronous:false, evalScripts:true, onComplete:function(request){Element.hide('spinner');Element.toggle('payment_description_#{payment.id}');Element.toggle('payment_description_link_#{payment.id}');}, onLoading:function(request){Element.show('spinner');}, parameters:'description=' + encodeURIComponent($('payment_description_tag_#{payment.id}').value)})" %>
      </span>
      <span style="float: left;">
        <%= link_to_function _('cancel'), "Element.toggle('payment_description_#{payment.id}');Element.toggle('payment_description_link_#{payment.id}');" %>
      </span>
      </div>
    </div>
<% end %>

